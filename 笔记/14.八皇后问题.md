## 介绍

皇后可以横着吃，竖着吃，斜着吃

问在一个8 × 8的棋盘上，摆满8个皇后，一共可以有几种摆法

## 代码

### 1. 判断皇后的摆放是否有问题

这里主要难点就是Math.abs(n - i) == Math.abs(array[n] - array[i])

意思就是行差与列差相等，我们举个例子帮助理解

我们知道(1,1)，(3,3)是在同一条斜线上，那么我们看行差与列差是不是相等呢？

我们知道(1,2)，(4,5)是在同一条斜线上，那么我们看行差与列差是不是相等呢？

我们知道(1,0)，(5,4)是在同一条斜线上，那么我们看行差与列差是不是相等呢？

我们知道(4,5)，(5,4)是在同一条斜线上，那么我们看行差与列差是不是相等呢？

|       |       |       |       |       |       |
| ----- | ----- | ----- | ----- | ----- | ----- |
| (1,0) | (1,1) | (1,2) |       |       |       |
|       |       |       |       |       |       |
|       |       |       | (3,3) |       |       |
|       |       |       |       |       | (4,5) |
|       |       |       |       | (5,4) |       |

理解了吧

```java
// 查看当我们放置第n个皇后，检测皇后是否和之前冲突
private boolean judge(int n) {
    for (int i = 0; i < n; i++) {
        // 这里运用的就是列不能相等或者行差与列差的值不能相等
        if (array[i] == array[n] || Math.abs(n - i) == Math.abs(array[n] - array[i])) {
            return false;
        }
    }
    return true;
}
```



### 2. 递归

注意看那个for循环

首先在第n行放在第0的位置，判断是否冲突，如果冲突则执行下一次循环【就是i++，列+1】

如果不冲突，行数+1，然后进入下一次的递归,

如果在递归的同时出现第0行第0列的位置已经放不了的情况，那么会递归回到f判断因为条件无法满足而结束，执行下一次循环，当i = 1的情况【把子放在(0,1)的位置】

```java
// 放置第n个皇后
private void check(int n) {
    if (n == max) {
        print();
        return;
    }
    // 依次放入皇后，并查询是否冲突
    for (int i = 0; i < max; i++) {
        // 先把当前皇后，放到该行的第一列
        array[n] = i;
        // 如果放该行不冲突，就放下一行
        if (judge(n)) {
            check(n+1);
        }
        // 如果冲突，就继续执行array[n] = i;
    }
}
```

至于那个参数n，你可以这么理解，n表示的就是从第n行开始摆放皇后，比如你填2，那么就从下标为2的位置开始放皇后，前面的不会放